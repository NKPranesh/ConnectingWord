!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=29)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}},function(e,t,r){"use strict";(function(e){function n(){let t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){const r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(4))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t)}},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t)),1!==c.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=i(e);if(!t)throw new Error("Not an image");return t}function a(e){switch(o(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function i(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===n(e)&&e.data&&e.width&&e.height?"data":null}Object.defineProperty(t,"__esModule",{value:!0}),t.isImage=function(e){return Boolean(i(e))},t.deleteImage=function(e){switch(o(e)){case"imagebitmap":e.close()}},t.getImageType=o,t.getImageSize=function(e){return a(e)},t.getImageData=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.13"},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=o.self||o.window||o.global;t.self=a;var i=o.window||o.self||o.global;t.window=i;var u=o.global||o.self||o.window;t.global=u;var s=o.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var f="function"==typeof importScripts;t.isWorker=f;var l=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),p=l&&parseFloat(l[1])||0;t.nodeVersion=p}).call(this,r(2),r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBinaryImageMetadata=function(e){var t=o(e);return function(e){var t=o(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=o(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,a=r.sofMarkers,i=2;for(;i+9<t.byteLength;){var u=t.getUint16(i,!1);if(a.has(u))return{mimeType:"image/jpeg",height:t.getUint16(i+5,!1),width:t.getUint16(i+7,!1)};if(!n.has(u))return null;i+=2,i+=t.getUint16(i,!1)}return null}(t)||function(e){var t=o(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||n(t)},t.getBmpMetadata=n;function n(e){var t=o(e);return t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}:null}function o(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isMobile=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=o.self||o.window||o.global||{};t.self=a;var i=o.window||o.self||o.global||{};t.window=i;var u=o.global||o.self||o.window||{};t.global=u;var s=o.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var f="function"==typeof importScripts;t.isWorker=f;var l="undefined"!=typeof window&&void 0!==window.orientation;t.isMobile=l;var p=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),d=p&&parseFloat(p[1])||0;t.nodeVersion=d}).call(this,r(2),r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),o=r(41),a=r(11);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"name",void 0),u(this,"source",void 0),u(this,"url",void 0),u(this,"terminated",!1),u(this,"worker",void 0),u(this,"onMessage",void 0),u(this,"onError",void 0),u(this,"_loadableURL","");var r=t.name,o=t.source,a=t.url;(0,n.assert)(o||a),this.name=r,this.source=o,this.url=a,this.onMessage=s,this.onError=function(e){return console.log(e)},this.worker=this._createBrowserWorker()}var t,r,c;return t=e,c=[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}],(r=[{key:"destroy",value:function(){this.onMessage=s,this.onError=s,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||(0,a.getTransferList)(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=(0,o.getLoadableWorkerURL)({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}}])&&i(t.prototype,r),c&&i(t,c),e}();t.default=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,i=a||new Set;if(t){if(o(t))i.add(t);else if(o(t.buffer))i.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===n(t))for(var u in t)e(t[u],r,i)}else;return void 0===a?Array.from(i):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.13"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return p.apply(this,arguments)};var n=r(3),o=r(14),a=r(5),i=c(r(15)),u=c(r(32)),s=c(r(33));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,u,"next",e)}function u(e){f(a,n,o,i,u,"throw",e)}i(void 0)}))}}function p(){return(p=l(regeneratorRuntime.mark((function e(t,r,o){var c,f,l,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(r=r||{}).image||{},f=c.type||"auto",l=(o||{}).url,p=d(f),e.t0=p,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,(0,u.default)(t,r,l);case 10:return y=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,i.default)(t,r,l);case 14:return y=e.sent,e.abrupt("break",21);case 16:return e.next=18,(0,s.default)(t,r);case 18:return y=e.sent,e.abrupt("break",21);case 20:(0,n.assert)(!1);case 21:return"data"===f&&(y=(0,a.getImageData)(y)),e.abrupt("return",y);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){switch(e){case"auto":case"data":return(0,o.getDefaultImageType)();default:return(0,o.isImageTypeSupported)(e),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageTypeSupported=function(e){switch(e){case"auto":return i||a||s;case"imagebitmap":return i;case"image":return a;case"data":return s;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}},t.getDefaultImageType=function(){if(i)return"imagebitmap";if(a)return"image";if(s)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")};var n=r(7),o=n.global._parseImageNode,a="undefined"!=typeof Image,i="undefined"!=typeof ImageBitmap,u=Boolean(o),s=!!n.isBrowser||u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return i.apply(this,arguments)},t.loadToImage=u;var n=r(16);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)}))}}function i(){return(i=a(regeneratorRuntime.mark((function e(t,r,o){var a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,n.getBlobOrSVGDataUrl)(t,o),i=self.URL||self.webkitURL,s="string"!=typeof a&&i.createObjectURL(a),e.prev=3,e.next=6,u(s||a,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,s&&i.revokeObjectURL(s),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function u(e,t){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSVG=a,t.getBlobOrSVGDataUrl=function(e,t){if(a(t)){var r=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(r=unescape(encodeURIComponent(r)))}catch(e){throw new Error(e.message)}return"data:image/svg+xml;base64,".concat(btoa(r))}return i(e,t)},t.getBlob=i;var n=/^data:image\/svg\+xml/,o=/\.svg((\?|#).*)?$/;function a(e){return e&&(n.test(e)||o.test(e))}function i(e,t){if(a(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return o.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return a.isWorker}}),Object.defineProperty(t,"WorkerJob",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"WorkerThread",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WorkerFarm",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WorkerPool",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"WorkerBody",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"processOnWorker",{enumerable:!0,get:function(){return l.processOnWorker}}),Object.defineProperty(t,"canProcessOnWorker",{enumerable:!0,get:function(){return l.canProcessOnWorker}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return p.createWorker}}),Object.defineProperty(t,"getWorkerURL",{enumerable:!0,get:function(){return d.getWorkerURL}}),Object.defineProperty(t,"validateWorkerVersion",{enumerable:!0,get:function(){return y.validateWorkerVersion}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return h.getTransferList}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return m.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return m.loadLibrary}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return v.default}}),t.NullWorker=void 0;var n=r(6),o=r(0),a=r(9),i=g(r(19)),u=g(r(10)),s=g(r(20)),c=g(r(21)),f=g(r(22)),l=r(42),p=r(44),d=r(23),y=r(45),h=r(11),m=r(46),b=g(r(24)),v=g(r(48));function g(e){return e&&e.__esModule?e:{default:e}}var w={id:"null",name:"null",module:"worker-utils",version:n.VERSION,options:{null:{}}};t.NullWorker=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"name",void 0),a(this,"workerThread",void 0),a(this,"isRunning",void 0),a(this,"result",void 0),a(this,"_resolve",void 0),a(this,"_reject",void 0),this.name=t,this.workerThread=r,this.isRunning=!0,this._resolve=function(){},this._reject=function(){},this.result=new Promise((function(e,t){n._resolve=e,n._reject=t}))}var t,r,i;return t=e,(r=[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._reject(e)}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(21)),o=a(r(10));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"props",void 0),l(this,"workerPools",new Map),this.props=c({},p),this.setProps(t),this.workerPools=new Map}var t,r,a;return t=e,a=[{key:"isSupported",value:function(){return o.default.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}],(r=[{key:"destroy",value:function(){var e,t=i(this.workerPools.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"setProps",value:function(e){this.props=c(c({},this.props),e);var t,r=i(this.workerPools.values());try{for(r.s();!(t=r.n()).done;)t.value.setProps(this._getWorkerPoolProps())}catch(e){r.e(e)}finally{r.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,r=e.source,o=e.url,a=this.workerPools.get(t);return a||((a=new n.default({name:t,source:r,url:o})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,a)),a}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}])&&f(t.prototype,r),a&&f(t,a),e}();t.default=d,l(d,"_workerFarm",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(9),o=i(r(10)),a=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,s,"next",e)}function s(e){u(a,n,o,i,s,"throw",e)}i(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"name","unnamed"),p(this,"source",void 0),p(this,"url",void 0),p(this,"maxConcurrency",1),p(this,"maxMobileConcurrency",1),p(this,"onDebug",(function(){})),p(this,"reuseWorkers",!0),p(this,"props",{}),p(this,"jobQueue",[]),p(this,"idleQueue",[]),p(this,"count",0),p(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}var t,r,i,u,c;return t=e,(r=[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=f(f({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:(c=s(regeneratorRuntime.mark((function e(t){var r,n,o,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:function(e,t,r){return e.done(r)},n=i.length>2&&void 0!==i[2]?i[2]:function(e,t){return e.error(t)},o=new Promise((function(e){return a.jobQueue.push({name:t,onMessage:r,onError:n,onStart:e}),a})),this._startQueuedJob(),e.next=6,o;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_startQueuedJob",value:(u=s(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(r=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:r.name,workerThread:t,backlog:this.jobQueue.length}),n=new a.default(r.name,t),t.onMessage=function(e){return r.onMessage(n,e.type,e.payload)},t.onError=function(e){return r.onError(n,e)},r.onStart(n),e.prev=12,e.next=15,n.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])}))),function(){return u.apply(this,arguments)})},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new o.default({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return n.isMobile?this.maxMobileConcurrency:this.maxConcurrency}}])&&l(t.prototype,r),i&&l(t,i),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=new Map,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"onmessage",set:function(e){self.onmessage=function(t){if(u(t)){var r=t.data,n=r.type,o=r.payload;e(n,o)}}}},{key:"addEventListener",value:function(e){var t=a.get(e);t||(t=function(t){if(u(t)){var r=t.data,n=r.type,o=r.payload;e(n,o)}}),self.addEventListener("message",t)}},{key:"removeEventListener",value:function(e){var t=a.get(e);a.delete(e),self.removeEventListener("message",t)}},{key:"postMessage",value:function(e,t){if(self){var r={source:"loaders.gl",type:e,payload:t},o=(0,n.getTransferList)(t);self.postMessage(r,o)}}}],(r=null)&&o(t.prototype,r),i&&o(t,i),e}();function u(e){var t=e.type,r=e.data;return"message"===t&&r&&"string"==typeof r.source&&r.source.startsWith("loaders.gl")}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerName=function(e){var t="3.0.13"!==e.version?" (worker-utils@".concat("3.0.13",")"):"";return"".concat(e.name,"@").concat(e.version).concat(t)},t.getWorkerURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[e.id]||{},o="".concat(e.id,"-worker.js"),a=r.workerUrl;a||"compression"!==e.id||(a=t.workerUrl);"test"===t._workerType&&(a="modules/".concat(e.module,"/dist/").concat(o));if(!a){var i=e.version;"latest"===i&&(i="latest");var u=i?"@".concat(i):"";a="https://unpkg.com/@loaders.gl/".concat(e.module).concat(u,"/dist/").concat(o)}return(0,n.assert)(a),a};var n=r(0);r(6)},function(e,t,r){"use strict";var n;function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=Symbol.asyncIterator;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_values",void 0),a(this,"_settlers",void 0),a(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}var t,r,i;return t=e,(r=[{key:n,value:function(){return this}},{key:"push",value:function(e){return this.enqueue(e)}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)}},{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(t,r){e._settlers.push({resolve:t,reject:r})}))}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=i},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),o="",a=0;a<r;a++)o+=String.fromCharCode(n.getUint8(t+a));return o}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){n.isBuffer(e)&&(e=n.bufferToArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===u(e)&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),o=new Uint8Array(t),a=0;a<n.length;++a)if(n[a]!==o[a])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),i=o.reduce((function(e,t){return e+t.byteLength}),0),u=new Uint8Array(i),s=0,c=a(o);try{for(c.s();!(n=c.n()).done;){var f=n.value;u.set(f,s),s+=f.byteLength}}catch(e){c.e(e)}finally{c.f()}return u.buffer},t.concatenateTypedArrays=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t,o=n&&n.length>1&&n[0].constructor||null;if(!o)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');for(var a=n.reduce((function(e,t){return e+t.length}),0),i=new o(a),u=0,s=0,c=n;s<c.length;s++){var f=c[s];i.set(f,u),u+=f.length}return i},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(27));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===a(e)&&e.isBuffer},t.toBuffer=function(e){return n.toBuffer?n.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(n.toArrayBuffer)return n.toArrayBuffer(e);return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=i?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=e[u]}n.default=e,r&&r.set(e,n);return n}(r(51));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToNBytes=o,t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,o=new Uint8Array(e,r,n),a=new Uint8Array(t);return o.set(a),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var a=e.byteOffset,i=e.byteLength;n=new Uint8Array(e.buffer||e.arrayBuffer,a,i)}return t.set(n,r),r+o(n.byteLength,4)};var n=r(17);function o(e,t){return(0,n.assert)(e>=0),(0,n.assert)(t>0),e+(t-1)&~(t-1)}},function(e,t,r){"use strict";(function(t){var n=r(30),o="undefined"==typeof window?t:window;o.loaders=o.loaders||{},e.exports=Object.assign(o.loaders,n)}).call(this,r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageLoader",{enumerable:!0,get:function(){return n.ImageLoader}}),Object.defineProperty(t,"ImageWriter",{enumerable:!0,get:function(){return o.ImageWriter}}),Object.defineProperty(t,"getBinaryImageMetadata",{enumerable:!0,get:function(){return a.getBinaryImageMetadata}}),Object.defineProperty(t,"isImageTypeSupported",{enumerable:!0,get:function(){return i.isImageTypeSupported}}),Object.defineProperty(t,"getDefaultImageType",{enumerable:!0,get:function(){return i.getDefaultImageType}}),Object.defineProperty(t,"isImage",{enumerable:!0,get:function(){return u.isImage}}),Object.defineProperty(t,"getImageType",{enumerable:!0,get:function(){return u.getImageType}}),Object.defineProperty(t,"getImageSize",{enumerable:!0,get:function(){return u.getImageSize}}),Object.defineProperty(t,"getImageData",{enumerable:!0,get:function(){return u.getImageData}}),Object.defineProperty(t,"loadImage",{enumerable:!0,get:function(){return s.loadImage}});var n=r(31),o=r(34),a=r(8),i=r(14),u=r(5),s=r(36)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckImageLoader=t.ImageLoader=void 0;var n,o=r(12),a=(n=r(13))&&n.__esModule?n:{default:n},i=r(8);var u={id:"image",module:"images",name:"Images",version:o.VERSION,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:a.default,tests:[function(e){return Boolean((0,i.getBinaryImageMetadata)(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};t.ImageLoader=u;var s=u;t._typecheckImageLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return f.apply(this,arguments)};var n,o=r(16),a=(n=r(15))&&n.__esModule?n:{default:n};function i(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}var s={},c=!0;function f(){return(f=u(regeneratorRuntime.mark((function e(t,r,n){var i,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.isSVG)(n)){e.next=7;break}return e.next=3,(0,a.default)(t,r,n);case 3:u=e.sent,i=u,e.next=8;break;case 7:i=(0,o.getBlob)(t,n);case 8:return s=r&&r.imagebitmap,e.next=11,l(i,s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=u(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(r=n.length>1&&void 0!==n[1]?n[1]:null)&&c||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),c=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function d(e){for(var t in e||s)return!1;return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=((0,a.getBinaryImageMetadata)(e)||{}).mimeType,i=n.global._parseImageNode;return(0,o.assert)(i),i(e,r,t)};var n=r(7),o=r(3),a=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageWriter=void 0;var n=r(12),o=r(35),a={name:"Images",id:"image",module:"images",version:n.VERSION,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:o.encodeImage};t.ImageWriter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeImage=function(e,t){return s.apply(this,arguments)};var n=r(7),o=r(5);function a(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,s,"next",e)}function s(e){a(i,n,o,u,s,"throw",e)}u(void 0)}))}}var u=n.global._encodeImageNode;function s(){return(s=i(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=r||{}).image=r.image||{},e.abrupt("return",u?u(t,{type:r.image.mimeType}):f(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=!0;function f(e,t){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t,r){var n,a,i,u,s,f,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.image,a=n.mimeType,i=n.jpegQuality,u=(0,o.getImageSize)(t),s=u.width,f=u.height,(l=document.createElement("canvas")).width=s,l.height=f,p(t,l),e.next=8,new Promise((function(e){if(i&&c)try{return void l.toBlob(e,a,i)}catch(e){c=!1}l.toBlob(e,a)}));case 8:if(d=e.sent){e.next=11;break}throw new Error("image encoding failed");case 11:return e.next=13,d.arrayBuffer();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t.getContext("bitmaprenderer");if(o)return o.transferFromImageBitmap(e),t}var a=t.getContext("2d");if(e.data){var i=new Uint8ClampedArray(e.data),u=new ImageData(i,e.width,e.height);return a.putImageData(u,0,0),t}return a.drawImage(e,0,0),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=function(e){return y.apply(this,arguments)},t.getImageUrls=h,t.getMipLevels=g;var n,o=r(3),a=(n=r(13))&&n.__esModule?n:{default:n},i=r(5),u=r(37),s=r(64);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,u,"next",e)}function u(e){p(a,n,o,i,u,"throw",e)}i(void 0)}))}}function y(){return(y=d(regeneratorRuntime.mark((function e(t){var r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,h(t,r);case 3:return n=e.sent,e.next=6,(0,s.deepLoad)(n,a.default,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=d(regeneratorRuntime.mark((function e(t,r){var n,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:{},0===(o=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,b(t,o,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=(0,u.generateUrl)(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=d(regeneratorRuntime.mark((function e(t,r,n,c){var l,p,d,y,h,m,b,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=[],"auto"!==r){e.next=9;break}return p=(0,u.generateUrl)(t,n,f(f({},c),{},{lod:0})),e.next=5,(0,s.shallowLoad)(p,a.default,n);case 5:d=e.sent,y=(0,i.getImageSize)(d),h=y.width,m=y.height,r=g({width:h,height:m}),l.push(p);case 9:for((0,o.assert)(r>0),b=l.length;b<r;++b)v=(0,u.generateUrl)(t,n,f(f({},c),{},{lod:b})),l.push(v);return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=function(e,t,r){var a=e;"function"==typeof e&&(a=e(i(i({},t),r)));(0,o.assert)("string"==typeof a);var u=t.baseUrl;u&&(a="/"===u[u.length-1]?"".concat(u).concat(a):"".concat(u,"/").concat(a));return(0,n.resolvePath)(a)};var n=r(38),o=r(3);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return o.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return a.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return a.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(t,"createLoaderWorker",{enumerable:!0,get:function(){return i.createLoaderWorker}}),Object.defineProperty(t,"parseWithWorker",{enumerable:!0,get:function(){return u.parseWithWorker}}),Object.defineProperty(t,"canParseWithWorker",{enumerable:!0,get:function(){return u.canParseWithWorker}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return s.parseJSON}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return c.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return c.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return c.concatenateArrayBuffers}}),Object.defineProperty(t,"concatenateTypedArrays",{enumerable:!0,get:function(){return c.concatenateTypedArrays}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return c.compareArrayBuffers}}),Object.defineProperty(t,"padToNBytes",{enumerable:!0,get:function(){return f.padToNBytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return f.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return f.copyArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return l.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return l.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return p.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return p.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return p.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return d.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return d.getMagicString}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return y.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return y.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return y.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return y.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return h.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return h.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return b.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return b.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return b.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return b.addAliases}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return v.JSONLoader}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return w.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return w.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return w.bufferToArrayBuffer}}),Object.defineProperty(t,"promisify",{enumerable:!0,get:function(){return k.promisify}}),Object.defineProperty(t,"_NodeFileSystem",{enumerable:!0,get:function(){return P.default}}),t.fs=t.util=t.path=void 0;var o=r(17),a=r(39),i=r(40),u=r(49),s=r(50),c=r(26),f=r(28),l=r(52),p=r(53),d=r(25),y=r(54),h=r(55),m=_(r(56)),b=r(57),v=r(58),g=x(r(59));t.path=g;var w=r(27),k=x(r(60));t.util=k;var O=x(r(61));t.fs=O;var P=_(r(62));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function _(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=o.self||o.window||o.global||{};t.self=a;var i=o.window||o.self||o.global||{};t.window=i;var u=o.global||o.self||o.window||{};t.global=u;var s=o.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var f="function"==typeof importScripts;t.isWorker=f;var l=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),p=l&&parseFloat(l[1])||0;t.nodeVersion=p}).call(this,r(2),r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLoaderWorker=function(e){if("undefined"==typeof self)return;n.WorkerBody.onmessage=function(){var t=s(regeneratorRuntime.mark((function t(r,o){var a,i,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next="process"===t.t0?3:16;break;case 3:return t.prev=3,a=o.input,i=o.options,u=void 0===i?{}:i,t.next=7,l({loader:e,arrayBuffer:a,options:u,context:{parse:f}});case 7:s=t.sent,n.WorkerBody.postMessage("done",{result:s}),t.next=15;break;case 11:t.prev=11,t.t1=t.catch(3),c=t.t1 instanceof Error?t.t1.message:"",n.WorkerBody.postMessage("error",{error:c});case 15:return t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var n=r(18);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,s,"next",e)}function s(e){u(a,n,o,i,s,"throw",e)}i(void 0)}))}}var c=0;function f(e,t){return new Promise((function(r,o){var a=c++;n.WorkerBody.addEventListener((function e(t,i){if(i.id===a)switch(t){case"done":n.WorkerBody.removeEventListener(e),r(i.result);break;case"error":n.WorkerBody.removeEventListener(e),o(i.error)}}));var i={id:a,input:e,options:t};n.WorkerBody.postMessage("process",i)}))}function l(e){return p.apply(this,arguments)}function p(){return(p=s(regeneratorRuntime.mark((function e(t){var r,n,o,i,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arrayBuffer,o=t.options,i=t.context,!r.parseSync&&!r.parse){e.next=6;break}u=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,u=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return o=a(a({},o),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(u,a({},o),i,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoadableWorkerURL=function(e){(0,n.assert)(e.source&&!e.url||!e.source&&e.url);var t=o.get(e.source||e.url);t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return a((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),o.set(e.url,t)),e.source&&(t=a(e.source),o.set(e.source,t)));return(0,n.assert)(t),t};var n=r(0),o=new Map;function a(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canProcessOnWorker=function(e,t){if(!o.default.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.processOnWorker=function(e,t){return c.apply(this,arguments)};var n,o=(n=r(20))&&n.__esModule?n:{default:n},a=r(43),i=r(23);function u(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,s,"next",e)}function s(e){u(a,n,o,i,s,"throw",e)}i(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r){var n,u,s,c,l,p,d,y,h,m,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>2&&void 0!==b[2]?b[2]:{},u=b.length>3&&void 0!==b[3]?b[3]:{},s=(0,i.getWorkerName)(t),c=(0,i.getWorkerURL)(t,n),l=o.default.getWorkerFarm(n),p=l.getWorkerPool({name:s,url:c}),d=n.jobName||t.name,e.next=9,p.startJob(d,f.bind(null,u));case 9:return y=e.sent,h=(0,a.removeNontransferableOptions)(n),y.postMessage("process",{input:r,options:h}),e.next=14,y.result;case 14:return m=e.sent,e.abrupt("return",m.result);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,r,n){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t,r,n,o){var a,i,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:23;break;case 3:return r.done(o),e.abrupt("break",24);case 5:return r.error(o.error),e.abrupt("break",24);case 7:if(a=o.id,i=o.input,u=o.options,e.prev=8,t.process){e.next=12;break}return r.postMessage("error",{id:a,error:"Worker not set up to process on main thread"}),e.abrupt("return");case 12:return e.next=14,t.process(i,u);case 14:s=e.sent,r.postMessage("done",{id:a,result:s}),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:a,error:c});case 22:return e.abrupt("break",24);case 23:console.warn("process-on-worker: unknown message ".concat(n));case 24:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeNontransferableOptions=function(e){return JSON.parse((t=e,r=new Set,JSON.stringify(t,(function(e,t){if("object"===n(t)&&null!==t){if(r.has(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return}r.add(t)}return t}))));var t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWorker=function(e,t){if("undefined"==typeof self)return;var r={process:l};o.default.onmessage=function(){var a,f=(a=regeneratorRuntime.mark((function a(i,f){var l,p,d,y,h,m,b,v,g,w;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,a.t0=i,a.next="process"===a.t0?4:"process-in-batches"===a.t0?11:"input-batch"===a.t0?51:"input-done"===a.t0?53:55;break;case 4:if(e){a.next=6;break}throw new Error("Worker does not support atomic processing");case 6:return a.next=8,e(f.input,f.options||{},r);case 8:return l=a.sent,o.default.postMessage("done",{result:l}),a.abrupt("break",55);case 11:if(t){a.next=13;break}throw new Error("Worker does not support batched processing");case 13:s=new n.default,c=f.options||{},p=t(s,c,null==r?void 0:r.processInBatches),d=!0,y=!1,a.prev=18,m=u(p);case 20:return a.next=22,m.next();case 22:return b=a.sent,d=b.done,a.next=26,b.value;case 26:if(v=a.sent,d){a.next=33;break}g=v,o.default.postMessage("output-batch",{result:g});case 30:d=!0,a.next=20;break;case 33:a.next=39;break;case 35:a.prev=35,a.t1=a.catch(18),y=!0,h=a.t1;case 39:if(a.prev=39,a.prev=40,d||null==m.return){a.next=44;break}return a.next=44,m.return();case 44:if(a.prev=44,!y){a.next=47;break}throw h;case 47:return a.finish(44);case 48:return a.finish(39);case 49:return o.default.postMessage("done",{}),a.abrupt("break",55);case 51:return s.push(f.input),a.abrupt("break",55);case 53:return s.close(),a.abrupt("break",55);case 55:a.next=61;break;case 57:a.prev=57,a.t2=a.catch(0),w=a.t2 instanceof Error?a.t2.message:"",o.default.postMessage("error",{error:w});case 61:case"end":return a.stop()}}),a,null,[[0,57],[18,35,39,49],[40,,44,48]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function u(e){i(o,r,n,u,s,"next",e)}function s(e){i(o,r,n,u,s,"throw",e)}u(void 0)}))});return function(e,t){return f.apply(this,arguments)}}()};var n=a(r(24)),o=a(r(22));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var s,c,f=0;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var a=f++;o.default.addEventListener((function e(t,i){if(i.id===a)switch(t){case"done":o.default.removeEventListener(e),r(i.result);break;case"error":o.default.removeEventListener(e),n(i.error)}}));var i={id:a,input:e,options:t};o.default.postMessage("process",i)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWorkerVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.VERSION;(0,n.assert)(e,"no worker provided");var r=e.version;if(!t||!r)return!1;return!0};var n=r(0),o=r(6)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return l.apply(this,arguments)},t.getLibraryUrl=p;var o=r(9),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(47)),i=r(0);r(6);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,u,"next",e)}function u(e){s(a,n,o,i,u,"throw",e)}i(void 0)}))}}var f={};function l(){return(l=c(regeneratorRuntime.mark((function e(t){var r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,n=o.length>2&&void 0!==o[2]?o[2]:{},r&&(t=p(t,r,n)),f[t]=f[t]||d(t),e.next=6,f[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r){if(e.startsWith("http"))return e;var n=r.modules||{};return n[e]?n[e]:o.isBrowser?r.CDN?((0,i.assert)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("3.0.13","/dist/libs/").concat(e)):o.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function d(e){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(o.isBrowser){e.next=14;break}if(e.t0=a.requireFromFile,!e.t0){e.next=13;break}return e.next=12,a.requireFromFile(t);case 12:e.t0=e.sent;case 13:return e.abrupt("return",e.t0);case 14:if(!o.isWorker){e.next=16;break}return e.abrupt("return",importScripts(t));case 16:return e.next=18,fetch(t);case 18:return n=e.sent,e.next=21,n.text();case 21:return i=e.sent,e.abrupt("return",h(i,t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){if(!o.isBrowser)return a.requireFromString&&a.requireFromString(e,t);if(o.isWorker)return eval.call(o.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t){if(!n.WorkerFarm.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.parseWithWorker=function(e,t,r,n,o){return i.apply(this,arguments)};var n=r(18);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)}))}}function i(){return(i=a(regeneratorRuntime.mark((function e(t,r,o,a,i){var s,c,f,l,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,c=(0,n.getWorkerURL)(t,o),f=n.WorkerFarm.getWorkerFarm(o),l=f.getWorkerPool({name:s,url:c}),o=JSON.parse(JSON.stringify(o)),e.next=7,l.startJob("process-on-worker",u.bind(null,i));case 7:return(p=e.sent).postMessage("process",{input:r,options:o}),e.next=11,p.result;case 11:return d=e.sent,e.next=14,d.result;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r,n){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t,r,n,o){var a,i,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return r.done(o),e.abrupt("break",21);case 5:return r.error(o.error),e.abrupt("break",21);case 7:return a=o.id,i=o.input,u=o.options,e.prev=8,e.next=11,t(i,u);case 11:s=e.sent,r.postMessage("done",{id:a,result:s}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:a,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(n));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(25)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=o,t.copyPaddedStringToDataView=function(e,t,r,n){var a=(new TextEncoder).encode(r);return t=o(e,t,a,n)};var n=r(28);function o(e,t,r,o){var a=(0,n.padToNBytes)(r.byteLength,o),i=a-r.byteLength;if(e){var u=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),s=new Uint8Array(r);u.set(s);for(var c=0;c<i;++c)e.setUint8(t+r.byteLength+c,32)}return t+=a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,o="",a=0;a<n;++a)o+=" ";return e+o},t.copyStringToDataView=function(e,t,r,n){if(e)for(var o=0;o<n;o++)e.setUint8(t+o,r.charCodeAt(o));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var o=0;o<n;o++)e.setUint8(t+o,r[o]);return t+n}},function(e,t,r){"use strict";function n(e){return new i(e)}function o(e){return function(){return new a(e.apply(this,arguments))}}function a(e){var t,r;function n(t,r){try{var a=e[t](r),u=a.value,s=u instanceof i;Promise.resolve(s?u.wrapped:u).then((function(e){s?n("return"===t?"return":"next",e):o(a.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(a,i){var u={key:e,arg:o,resolve:a,reject:i,next:null};r?r=r.next=u:(t=r=u,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function i(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(){return(s=o(regeneratorRuntime.mark((function e(t){var r,o,a,i,s,c,f,l,p,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>1&&void 0!==d[1]?d[1]:{},o=new TextDecoder(void 0,r),a=!0,i=!1,e.prev=4,c=u(t);case 6:return e.next=8,n(c.next());case 8:return f=e.sent,a=f.done,e.next=12,n(f.value);case 12:if(l=e.sent,a){e.next=20;break}return p=l,e.next=17,"string"==typeof p?p:o.decode(p,{stream:!0});case 17:a=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),i=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,a||null==c.return){e.next=31;break}return e.next=31,n(c.return());case 31:if(e.prev=31,!i){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[4,22,26,36],[27,,31,35]])})))).apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t){var r,o,a,i,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new TextEncoder,o=!0,a=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,o=c.done,e.next=11,n(c.value);case 11:if(f=e.sent,o){e.next=19;break}return l=f,e.next=16,"string"==typeof l?r.encode(l):l;case 16:o=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),a=!0,i=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==s.return){e.next=30;break}return e.next=30,n(s.return());case 30:if(e.prev=30,!a){e.next=33;break}throw i;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function e(t){var r,o,a,i,s,c,f,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",o=!0,a=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,o=c.done,e.next=11,n(c.value);case 11:if(f=e.sent,o){e.next=26;break}r+=f,l=void 0;case 16:if(!((l=r.indexOf("\n"))>=0)){e.next=23;break}return p=r.slice(0,l+1),r=r.slice(l+1),e.next=21,p;case 21:e.next=16;break;case 23:o=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),a=!0,i=e.t0;case 32:if(e.prev=32,e.prev=33,o||null==s.return){e.next=37;break}return e.next=37,n(s.return());case 37:if(e.prev=37,!a){e.next=40;break}throw i;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark((function e(t){var r,o,a,i,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,o=!0,a=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,o=c.done,e.next=11,n(c.value);case 11:if(f=e.sent,o){e.next=20;break}return l=f,e.next=16,{counter:r,line:l};case 16:r++;case 17:o=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),a=!0,i=e.t0;case 26:if(e.prev=26,e.prev=27,o||null==s.return){e.next=31;break}return e.next=31,n(s.return());case 31:if(e.prev=31,!a){e.next=34;break}throw i;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e){return s.apply(this,arguments)},t.makeTextEncoderIterator=function(e){return c.apply(this,arguments)},t.makeLineIterator=function(e){return f.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return l.apply(this,arguments)},a.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return u.apply(this,arguments)},t.concatenateArrayBuffersAsync=function(e){return s.apply(this,arguments)},t.concatenateStringsAsync=function(e){return c.apply(this,arguments)};var n=r(26);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)}))}}function i(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function u(){return(u=a(regeneratorRuntime.mark((function e(t,r){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,o=n.done,a=n.value,!o){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(a)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t){var r,o,a,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=!0,a=!1,e.prev=3,s=i(t);case 5:return e.next=7,s.next();case 7:return c=e.sent,o=c.done,e.next=11,c.value;case 11:if(f=e.sent,o){e.next=18;break}l=f,r.push(l);case 15:o=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),a=!0,u=e.t0;case 24:if(e.prev=24,e.prev=25,o||null==s.return){e.next=29;break}return e.next=29,s.return();case 29:if(e.prev=29,!a){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,r));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function c(){return(c=a(regeneratorRuntime.mark((function e(t){var r,n,o,a,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,o=!1,e.prev=3,u=i(t);case 5:return e.next=7,u.next();case 7:return s=e.sent,n=s.done,e.next=11,s.value;case 11:if(c=e.sent,n){e.next=18;break}f=c,r.push(f);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==u.return){e.next=29;break}return e.next=29,u.return();case 29:if(e.prev=29,!o){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",r.join(""));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(66);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={id:"request-scheduler",throttleRequests:!0,maxRequests:6},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),s(this,"props",void 0),s(this,"stats",void 0),s(this,"activeRequestCount",0),s(this,"requestQueue",[]),s(this,"requestMap",new Map),s(this,"deferredUpdate",null),this.props=a(a({},c),t),this.stats=new n.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}var t,r,o;return t=e,(r=[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,priority:0,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,o=!1,a=function(){o||(o=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:a}):Promise.resolve({done:a})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var r=this.requestQueue.shift();r&&this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0&&(e.resolve(null),1))}}])&&u(t.prototype,r),o&&u(t,o),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(o,e)},t.resolvePath=function(e){for(var t in o)if(e.startsWith(t)){var r=o[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",o={}},function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckJSONLoader=t.JSONLoader=void 0;var o,a,i={name:"JSON",id:"json",module:"json",version:"3.0.13",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:u,parse:(o=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u((new TextDecoder).decode(t)));case 1:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(r,a){var i=o.apply(e,t);function u(e){n(i,r,a,u,s,"next",e)}function s(e){n(i,r,a,u,s,"throw",e)}u(void 0)}))},function(e){return a.apply(this,arguments)}),options:{}};function u(e){return JSON.parse(e)}t.JSONLoader=i;var s=i;t._typecheckJSONLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""},t.join=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^".concat(n)),"")),r!==t.length-1&&(e=e.replace(new RegExp("".concat(n,"$")),"")),e}))).join(n)}},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=i?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=e[u]}o.default=e,r&&r.set(e,o);return o}(r(63));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function i(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetch=t._fetch}var t,r,n,a,i,c,f,l,p,d;return t=e,(r=[{key:"readdir",value:(d=u(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:".",r=n.length>1?n[1]:void 0,e.next=4,o.readdir(t,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"stat",value:(p=u(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.stat(t,r);case 2:return n=e.sent,e.abrupt("return",{size:Number(n.size),isDirectory:function(){return!1},info:n});case 4:case"end":return e.stop()}}),e)}))),function(e,t){return p.apply(this,arguments)})},{key:"fetch",value:(l=u(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.fetch||this.fetch,e.abrupt("return",n(t,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"open",value:(f=u(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.open(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"close",value:(c=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.close(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"fstat",value:(i=u(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fstat(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"read",value:(a=u(regeneratorRuntime.mark((function e(t,r){var n,a,i,u,s,c,f,l,p,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.buffer,a=void 0===n?null:n,i=r.offset,u=void 0===i?0:i,s=r.length,c=void 0===s?a.byteLength:s,f=r.position,l=void 0===f?null:f,p=0;case 2:if(!(p<c)){e.next=10;break}return e.next=5,o.read(t,a,u+p,c-p,l+p);case 5:d=e.sent,y=d.bytesRead,p+=y,e.next=2;break;case 10:return e.abrupt("return",{bytesRead:p,buffer:a});case 11:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),e}();t.default=c},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepLoad=function(e,t,r){return i.apply(this,arguments)},t.shallowLoad=u;var n=r(65);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)}))}}function i(){return(i=a(regeneratorRuntime.mark((function e(t,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.asyncDeepMap)(t,(function(e){return u(e,r,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return o=e.sent,e.next=5,o.arrayBuffer();case 5:return a=e.sent,e.next=8,r(a,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function u(e){n(i,o,a,u,s,"next",e)}function s(e){n(i,o,a,u,s,"throw",e)}u(void 0)}))}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDeepMap=function(e,t){return u.apply(this,arguments)},t.mapSubtree=s;var i=function(e){return e&&"object"===a(e)};function u(){return(u=o(regeneratorRuntime.mark((function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,s(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,p(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!i(t)){e.next=8;break}return e.next=7,f(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return o=t,e.next=11,r(o,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,r){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark((function e(t,r,n){var o,a,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in o=[],a={},i=function(e){var i=s(t[e],r,n).then((function(t){a[e]=t}));o.push(i)},t)i(u);return e.next=6,Promise.all(o);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return d.apply(this,arguments)}function d(){return(d=o(regeneratorRuntime.mark((function e(t,r){var n,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},o=t.map((function(e){return s(e,r,n)})),e.next=4,Promise.all(o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return a})),r.d(t,"Stat",(function(){return o})),r.d(t,"_getHiResTimestamp",(function(){return n.a}));var n=r(1);class o{constructor(e,t){this.name=e,this.type=t,this.sampleSize=1,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Object(n.a)(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Object(n.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class a{constructor({id:e,stats:t}){this.id=e,this.stats={},this._initializeStats(t),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(e=>this._getOrCreate(e))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(this.stats[t]=e instanceof o?e:new o(t,r)),this.stats[t]}}}]);
//# sourceMappingURL=dist.es5.min.js.map