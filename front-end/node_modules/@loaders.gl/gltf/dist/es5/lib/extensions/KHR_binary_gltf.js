"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decode = decode;
exports.encode = encode;

var _gltfScenegraph = _interopRequireDefault(require("../api/gltf-scenegraph"));

var _gltfConstants = require("../gltf-utils/gltf-constants");

function decode(gltfData) {
  const gltfScenegraph = new _gltfScenegraph.default(gltfData);
  const {
    json
  } = gltfScenegraph;

  for (const node of json.images || []) {
    const extension = gltfScenegraph.removeObjectExtension(node, _gltfConstants.KHR_BINARY_GLTF);

    if (extension) {
      Object.assign(node, extension);
    }
  }

  if (json.buffers && json.buffers[0]) {
    delete json.buffers[0].uri;
  }

  gltfScenegraph.removeExtension(_gltfConstants.KHR_BINARY_GLTF);
}

function encode() {
  throw new Error(_gltfConstants.KHR_BINARY_GLTF);
}
//# sourceMappingURL=KHR_binary_gltf.js.map