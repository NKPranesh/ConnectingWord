{"ast":null,"code":"import { assertWebGLContext } from '@luma.gl/gltools';\nimport Texture from './texture';\nimport { loadImage } from '../utils/load-file';\nexport default class Texture2D extends Texture {\n  static isSupported(gl, opts) {\n    return Texture.isSupported(gl, opts);\n  }\n\n  constructor(gl) {\n    let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    assertWebGLContext(gl);\n\n    if (props instanceof Promise || typeof props === 'string') {\n      props = {\n        data: props\n      };\n    }\n\n    if (typeof props.data === 'string') {\n      props = Object.assign({}, props, {\n        data: loadImage(props.data)\n      });\n    }\n\n    super(gl, Object.assign({}, props, {\n      target: 3553\n    }));\n    this.initialize(props);\n    Object.seal(this);\n  }\n\n}","map":{"version":3,"sources":["../../../src/classes/texture-2d.js"],"names":["isSupported","Texture","constructor","props","assertWebGLContext","data","loadImage","target","Object"],"mappings":"AACA,SAAA,kBAAA,QAAA,kBAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,SAAA,SAAA,QAAA,oBAAA;AAEA,eAAe,MAAA,SAAA,SAAA,OAAA,CAAgC;AAC7C,SAAOA,WAAP,CAAA,EAAA,EAAA,IAAA,EAA6B;AAC3B,WAAOC,OAAO,CAAPA,WAAAA,CAAAA,EAAAA,EAAP,IAAOA,CAAP;AACD;;AAEDC,EAAAA,WAAW,CAAA,EAAA,EAAiB;AAAA,QAAZC,KAAY,uEAAjB,EAAiB;AAC1BC,IAAAA,kBAAkB,CAAlBA,EAAkB,CAAlBA;;AAGA,QAAID,KAAK,YAALA,OAAAA,IAA4B,OAAA,KAAA,KAAhC,QAAA,EAA2D;AACzDA,MAAAA,KAAK,GAAG;AAACE,QAAAA,IAAI,EAAEF;AAAP,OAARA;AACD;;AAGD,QAAI,OAAOA,KAAK,CAAZ,IAAA,KAAJ,QAAA,EAAoC;AAClCA,MAAAA,KAAK,GAAG,MAAM,CAAN,MAAA,CAAA,EAAA,EAAA,KAAA,EAAyB;AAACE,QAAAA,IAAI,EAAEC,SAAS,CAACH,KAAK,CAAN,IAAA;AAAhB,OAAzB,CAARA;AACD;;AAED,UAAA,EAAA,EAAU,MAAM,CAAN,MAAA,CAAA,EAAA,EAAA,KAAA,EAAyB;AAACI,MAAAA,MAAM,EAAA;AAAP,KAAzB,CAAV;AAEA,SAAA,UAAA,CAAA,KAAA;AAEAC,IAAAA,MAAM,CAANA,IAAAA,CAAAA,IAAAA;AACD;;AAvB4C","sourcesContent":["import GL from '@luma.gl/constants';\nimport {assertWebGLContext} from '@luma.gl/gltools';\nimport Texture from './texture';\nimport {loadImage} from '../utils/load-file';\n\nexport default class Texture2D extends Texture {\n  static isSupported(gl, opts) {\n    return Texture.isSupported(gl, opts);\n  }\n\n  constructor(gl, props = {}) {\n    assertWebGLContext(gl);\n\n    // Signature: new Texture2D(gl, url | Promise)\n    if (props instanceof Promise || typeof props === 'string') {\n      props = {data: props};\n    }\n\n    // Signature: new Texture2D(gl, {data: url})\n    if (typeof props.data === 'string') {\n      props = Object.assign({}, props, {data: loadImage(props.data)});\n    }\n\n    super(gl, Object.assign({}, props, {target: GL.TEXTURE_2D}));\n\n    this.initialize(props);\n\n    Object.seal(this);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}