{"ast":null,"code":"import { assert } from './assert';\nconst ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\nexport function isWebGL(gl) {\n  if (typeof WebGLRenderingContext !== 'undefined' && gl instanceof WebGLRenderingContext) {\n    return true;\n  }\n\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n\n  return Boolean(gl && Number.isFinite(gl._version));\n}\nexport function isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n\n  return Boolean(gl && gl._version === 2);\n}\nexport function getWebGL2Context(gl) {\n  return isWebGL2(gl) ? gl : null;\n}\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n  return gl;\n}\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n  return gl;\n}","map":{"version":3,"sources":["../../../src/utils/webgl-checks.js"],"names":["ERR_CONTEXT","ERR_WEBGL","ERR_WEBGL2","gl","Boolean","Number","isWebGL2","assert","isWebGL"],"mappings":"AAAA,SAAA,MAAA,QAAA,UAAA;AAEA,MAAMA,WAAW,GAAjB,+BAAA;AACA,OAAO,MAAMC,SAAS,GAAf,WAAA;AACP,OAAO,MAAMC,UAAU,GAAhB,iBAAA;AAEP,OAAO,SAAA,OAAA,CAAA,EAAA,EAAqB;AAC1B,MAAI,OAAA,qBAAA,KAAA,WAAA,IAAgDC,EAAE,YAAtD,qBAAA,EAAyF;AACvF,WAAA,IAAA;AACD;;AACD,MAAI,OAAA,sBAAA,KAAA,WAAA,IAAiDA,EAAE,YAAvD,sBAAA,EAA2F;AACzF,WAAA,IAAA;AACD;;AAED,SAAOC,OAAO,CAACD,EAAE,IAAIE,MAAM,CAANA,QAAAA,CAAgBF,EAAE,CAAvC,QAAqBE,CAAP,CAAd;AACD;AAED,OAAO,SAAA,QAAA,CAAA,EAAA,EAAsB;AAC3B,MAAI,OAAA,sBAAA,KAAA,WAAA,IAAiDF,EAAE,YAAvD,sBAAA,EAA2F;AACzF,WAAA,IAAA;AACD;;AAED,SAAOC,OAAO,CAACD,EAAE,IAAIA,EAAE,CAAFA,QAAAA,KAArB,CAAc,CAAd;AACD;AAED,OAAO,SAAA,gBAAA,CAAA,EAAA,EAA8B;AACnC,SAAOG,QAAQ,CAARA,EAAQ,CAARA,GAAAA,EAAAA,GAAP,IAAA;AACD;AAED,OAAO,SAAA,kBAAA,CAAA,EAAA,EAAgC;AACrCC,EAAAA,MAAM,CAACC,OAAO,CAAR,EAAQ,CAAR,EAAND,WAAM,CAANA;AACA,SAAA,EAAA;AACD;AAED,OAAO,SAAA,mBAAA,CAAA,EAAA,EAAiC;AACtCA,EAAAA,MAAM,CAACD,QAAQ,CAAT,EAAS,CAAT,EAANC,UAAM,CAANA;AACA,SAAA,EAAA;AACD","sourcesContent":["import {assert} from './assert';\n\nconst ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\n\nexport function isWebGL(gl) {\n  if (typeof WebGLRenderingContext !== 'undefined' && gl instanceof WebGLRenderingContext) {\n    return true;\n  }\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  // Look for debug contexts, headless gl etc\n  return Boolean(gl && Number.isFinite(gl._version));\n}\n\nexport function isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  // Look for debug contexts, headless gl etc\n  return Boolean(gl && gl._version === 2);\n}\n\nexport function getWebGL2Context(gl) {\n  return isWebGL2(gl) ? gl : null;\n}\n\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n  return gl;\n}\n\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n  return gl;\n}\n"]},"metadata":{},"sourceType":"module"}