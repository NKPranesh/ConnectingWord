{"ast":null,"code":"import MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport { config } from '../../lib/common';\nimport assert from '../../lib/assert';\nexport default class Matrix extends MathArray {\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  get RANK() {\n    assert(false);\n    return 0;\n  }\n\n  toString() {\n    let string = '[';\n\n    if (config.printRowMajor) {\n      string += 'row-major:';\n\n      for (let row = 0; row < this.RANK; ++row) {\n        for (let col = 0; col < this.RANK; ++col) {\n          string += \" \".concat(this[col * this.RANK + row]);\n        }\n      }\n    } else {\n      string += 'column-major:';\n\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        string += \" \".concat(this[i]);\n      }\n    }\n\n    string += ']';\n    return string;\n  }\n\n  getElementIndex(row, col) {\n    return col * this.RANK + row;\n  }\n\n  getElement(row, col) {\n    return this[col * this.RANK + row];\n  }\n\n  setElement(row, col, value) {\n    this[col * this.RANK + row] = checkNumber(value);\n    return this;\n  }\n\n  getColumn(columnIndex) {\n    let result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Array(this.RANK).fill(-0);\n    const firstIndex = columnIndex * this.RANK;\n\n    for (let i = 0; i < this.RANK; ++i) {\n      result[i] = this[firstIndex + i];\n    }\n\n    return result;\n  }\n\n  setColumn(columnIndex, columnVector) {\n    const firstIndex = columnIndex * this.RANK;\n\n    for (let i = 0; i < this.RANK; ++i) {\n      this[firstIndex + i] = columnVector[i];\n    }\n\n    return this;\n  }\n\n}","map":{"version":3,"sources":["../../../../src/classes/base/matrix.js"],"names":["ELEMENTS","assert","RANK","toString","string","config","row","col","i","getElementIndex","getElement","setElement","checkNumber","getColumn","result","firstIndex","columnIndex","setColumn","columnVector"],"mappings":"AAAA,OAAA,SAAA,MAAA,cAAA;AACA,SAAA,WAAA,QAAA,sBAAA;AACA,SAAA,MAAA,QAAA,kBAAA;AACA,OAAA,MAAA,MAAA,kBAAA;AAEA,eAAe,MAAA,MAAA,SAAA,SAAA,CAA+B;AAEhC,MAARA,QAAQ,GAAG;AACbC,IAAAA,MAAM,CAANA,KAAM,CAANA;AACA,WAAA,CAAA;AACD;;AAEO,MAAJC,IAAI,GAAG;AACTD,IAAAA,MAAM,CAANA,KAAM,CAANA;AACA,WAAA,CAAA;AACD;;AAaDE,EAAAA,QAAQ,GAAG;AACT,QAAIC,MAAM,GAAV,GAAA;;AACA,QAAIC,MAAM,CAAV,aAAA,EAA0B;AACxBD,MAAAA,MAAM,IAANA,YAAAA;;AACA,WAAK,IAAIE,GAAG,GAAZ,CAAA,EAAkBA,GAAG,GAAG,KAAxB,IAAA,EAAmC,EAAnC,GAAA,EAA0C;AACxC,aAAK,IAAIC,GAAG,GAAZ,CAAA,EAAkBA,GAAG,GAAG,KAAxB,IAAA,EAAmC,EAAnC,GAAA,EAA0C;AACxCH,UAAAA,MAAM,IAAA,IAAA,MAAA,CAAQ,KAAKG,GAAG,GAAG,KAANA,IAAAA,GAAnBH,GAAc,CAAR,CAANA;AACD;AACF;AANH,KAAA,MAOO;AACLA,MAAAA,MAAM,IAANA,eAAAA;;AACA,WAAK,IAAII,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAApB,QAAA,EAAmC,EAAnC,CAAA,EAAwC;AACtCJ,QAAAA,MAAM,IAAA,IAAA,MAAA,CAAQ,KAAdA,CAAc,CAAR,CAANA;AACD;AACF;;AACDA,IAAAA,MAAM,IAANA,GAAAA;AACA,WAAA,MAAA;AACD;;AAEDK,EAAAA,eAAe,CAAA,GAAA,EAAA,GAAA,EAAW;AACxB,WAAOF,GAAG,GAAG,KAANA,IAAAA,GAAP,GAAA;AACD;;AAGDG,EAAAA,UAAU,CAAA,GAAA,EAAA,GAAA,EAAW;AACnB,WAAO,KAAKH,GAAG,GAAG,KAANA,IAAAA,GAAZ,GAAO,CAAP;AACD;;AAGDI,EAAAA,UAAU,CAAA,GAAA,EAAA,GAAA,EAAA,KAAA,EAAkB;AAC1B,SAAKJ,GAAG,GAAG,KAANA,IAAAA,GAAL,GAAA,IAA8BK,WAAW,CAAzC,KAAyC,CAAzC;AACA,WAAA,IAAA;AACD;;AAEDC,EAAAA,SAAS,CAAA,WAAA,EAAsD;AAAA,QAAxCC,MAAwC,uEAA/B,IAAA,KAAA,CAAU,KAAV,IAAA,EAAA,IAAA,CAA0B,CAAjD,CAAuB,CAA+B;AAC7D,UAAMC,UAAU,GAAGC,WAAW,GAAG,KAAjC,IAAA;;AACA,SAAK,IAAIR,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAApB,IAAA,EAA+B,EAA/B,CAAA,EAAoC;AAClCM,MAAAA,MAAM,CAANA,CAAM,CAANA,GAAY,KAAKC,UAAU,GAA3BD,CAAY,CAAZA;AACD;;AACD,WAAA,MAAA;AACD;;AAEDG,EAAAA,SAAS,CAAA,WAAA,EAAA,YAAA,EAA4B;AACnC,UAAMF,UAAU,GAAGC,WAAW,GAAG,KAAjC,IAAA;;AACA,SAAK,IAAIR,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAApB,IAAA,EAA+B,EAA/B,CAAA,EAAoC;AAClC,WAAKO,UAAU,GAAf,CAAA,IAAuBG,YAAY,CAAnC,CAAmC,CAAnC;AACD;;AACD,WAAA,IAAA;AACD;;AAvE2C","sourcesContent":["import MathArray from './math-array';\nimport {checkNumber} from '../../lib/validators';\nimport {config} from '../../lib/common';\nimport assert from '../../lib/assert';\n\nexport default class Matrix extends MathArray {\n  // Defined by derived class\n  get ELEMENTS() {\n    assert(false);\n    return 0;\n  }\n\n  get RANK() {\n    assert(false);\n    return 0;\n  }\n\n  // fromObject(object) {\n  //   const array = object.elements;\n  //   return this.fromRowMajor(array);\n  // }\n\n  // toObject(object) {\n  //   const array = object.elements;\n  //   this.toRowMajor(array);\n  //   return object;\n  // }\n\n  toString() {\n    let string = '[';\n    if (config.printRowMajor) {\n      string += 'row-major:';\n      for (let row = 0; row < this.RANK; ++row) {\n        for (let col = 0; col < this.RANK; ++col) {\n          string += ` ${this[col * this.RANK + row]}`;\n        }\n      }\n    } else {\n      string += 'column-major:';\n      for (let i = 0; i < this.ELEMENTS; ++i) {\n        string += ` ${this[i]}`;\n      }\n    }\n    string += ']';\n    return string;\n  }\n\n  getElementIndex(row, col) {\n    return col * this.RANK + row;\n  }\n\n  // By default assumes row major indices\n  getElement(row, col) {\n    return this[col * this.RANK + row];\n  }\n\n  // By default assumes row major indices\n  setElement(row, col, value) {\n    this[col * this.RANK + row] = checkNumber(value);\n    return this;\n  }\n\n  getColumn(columnIndex, result = new Array(this.RANK).fill(-0)) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      result[i] = this[firstIndex + i];\n    }\n    return result;\n  }\n\n  setColumn(columnIndex, columnVector) {\n    const firstIndex = columnIndex * this.RANK;\n    for (let i = 0; i < this.RANK; ++i) {\n      this[firstIndex + i] = columnVector[i];\n    }\n    return this;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}