{"ast":null,"code":"export function resolveUrl(url, options) {\n  const absolute = url.startsWith('data:') || url.startsWith('http:') || url.startsWith('https:');\n\n  if (absolute) {\n    return url;\n  }\n\n  const baseUrl = options.baseUri || options.uri;\n\n  if (!baseUrl) {\n    throw new Error(\"'baseUri' must be provided to resolve relative url \".concat(url));\n  }\n\n  return baseUrl.substr(0, baseUrl.lastIndexOf('/') + 1) + url;\n}","map":{"version":3,"sources":["../../../../src/lib/gltf-utils/resolve-url.ts"],"names":["absolute","url","baseUrl","options"],"mappings":"AAEA,OAAO,SAAA,UAAA,CAAA,GAAA,EAAA,OAAA,EAAkC;AAEvC,QAAMA,QAAQ,GAAGC,GAAG,CAAHA,UAAAA,CAAAA,OAAAA,KAA2BA,GAAG,CAAHA,UAAAA,CAA3BA,OAA2BA,CAA3BA,IAAsDA,GAAG,CAAHA,UAAAA,CAAvE,QAAuEA,CAAvE;;AACA,MAAA,QAAA,EAAc;AACZ,WAAA,GAAA;AACD;;AACD,QAAMC,OAAO,GAAGC,OAAO,CAAPA,OAAAA,IAAmBA,OAAO,CAA1C,GAAA;;AACA,MAAI,CAAJ,OAAA,EAAc;AACZ,UAAM,IAAA,KAAA,CAAA,sDAAA,MAAA,CAAN,GAAM,CAAA,CAAN;AACD;;AACD,SAAOD,OAAO,CAAPA,MAAAA,CAAAA,CAAAA,EAAkBA,OAAO,CAAPA,WAAAA,CAAAA,GAAAA,IAAlBA,CAAAA,IAAP,GAAA;AACD","sourcesContent":["// Resolves a relative url against a baseUrl\n// If url is absolute, return it unchanged\nexport function resolveUrl(url, options) {\n  // TODO: Use better logic to handle all protocols plus not delay on data\n  const absolute = url.startsWith('data:') || url.startsWith('http:') || url.startsWith('https:');\n  if (absolute) {\n    return url;\n  }\n  const baseUrl = options.baseUri || options.uri;\n  if (!baseUrl) {\n    throw new Error(`'baseUri' must be provided to resolve relative url ${url}`);\n  }\n  return baseUrl.substr(0, baseUrl.lastIndexOf('/') + 1) + url;\n}\n"]},"metadata":{},"sourceType":"module"}