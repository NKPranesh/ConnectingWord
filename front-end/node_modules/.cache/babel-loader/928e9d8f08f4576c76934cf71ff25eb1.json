{"ast":null,"code":"import { resolvePath } from '@loaders.gl/loader-utils';\nimport { assert } from '../utils/assert';\nexport function generateUrl(getUrl, options, urlOptions) {\n  let url = getUrl;\n\n  if (typeof getUrl === 'function') {\n    url = getUrl({ ...options,\n      ...urlOptions\n    });\n  }\n\n  assert(typeof url === 'string');\n  const {\n    baseUrl\n  } = options;\n\n  if (baseUrl) {\n    url = baseUrl[baseUrl.length - 1] === '/' ? \"\".concat(baseUrl).concat(url) : \"\".concat(baseUrl, \"/\").concat(url);\n  }\n\n  return resolvePath(url);\n}","map":{"version":3,"sources":["../../../../src/lib/texture-api/generate-url.ts"],"names":["url","getUrl","urlOptions","assert","baseUrl","resolvePath"],"mappings":"AAAA,SAAA,WAAA,QAAA,0BAAA;AACA,SAAA,MAAA,QAAA,iBAAA;AAGA,OAAO,SAAA,WAAA,CAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAkD;AAEvD,MAAIA,GAAG,GAAP,MAAA;;AACA,MAAI,OAAA,MAAA,KAAJ,UAAA,EAAkC;AAChCA,IAAAA,GAAG,GAAGC,MAAM,CAAC,EAAC,GAAD,OAAA;AAAa,SAAGC;AAAhB,KAAD,CAAZF;AACD;;AACDG,EAAAA,MAAM,CAAC,OAAA,GAAA,KAAPA,QAAM,CAANA;AAGA,QAAM;AAACC,IAAAA;AAAD,MAAN,OAAA;;AACA,MAAA,OAAA,EAAa;AACXJ,IAAAA,GAAG,GAAGI,OAAO,CAACA,OAAO,CAAPA,MAAAA,GAARA,CAAO,CAAPA,KAAAA,GAAAA,GAAAA,GAAAA,MAAAA,CAAAA,OAAAA,EAAAA,MAAAA,CAAAA,GAAAA,CAAAA,GAAAA,GAAAA,MAAAA,CAAAA,OAAAA,EAAAA,GAAAA,EAAAA,MAAAA,CAANJ,GAAMI,CAANJ;AACD;;AAED,SAAOK,WAAW,CAAlB,GAAkB,CAAlB;AACD","sourcesContent":["import {resolvePath} from '@loaders.gl/loader-utils';\nimport {assert} from '../utils/assert';\n\n// Generate a url by calling getUrl with mix of options, applying options.baseUrl\nexport function generateUrl(getUrl, options, urlOptions) {\n  // Get url\n  let url = getUrl;\n  if (typeof getUrl === 'function') {\n    url = getUrl({...options, ...urlOptions});\n  }\n  assert(typeof url === 'string');\n\n  // Apply options.baseUrl\n  const {baseUrl} = options;\n  if (baseUrl) {\n    url = baseUrl[baseUrl.length - 1] === '/' ? `${baseUrl}${url}` : `${baseUrl}/${url}`;\n  }\n\n  return resolvePath(url);\n}\n"]},"metadata":{},"sourceType":"module"}