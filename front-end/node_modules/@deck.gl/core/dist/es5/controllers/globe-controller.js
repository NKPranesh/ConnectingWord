"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _math = require("math.gl");

var _controller = _interopRequireDefault(require("./controller"));

var _mapController = require("./map-controller");

var _mathUtils = require("../utils/math-utils");

class GlobeState extends _mapController.MapState {
  _applyConstraints(props) {
    const {
      maxZoom,
      minZoom,
      zoom
    } = props;
    props.zoom = (0, _math.clamp)(zoom, minZoom, maxZoom);
    const {
      longitude,
      latitude
    } = props;

    if (longitude < -180 || longitude > 180) {
      props.longitude = (0, _mathUtils.mod)(longitude + 180, 360) - 180;
    }

    props.latitude = (0, _math.clamp)(latitude, -89, 89);
    return props;
  }

}

class GlobeController extends _controller.default {
  constructor(props) {
    props.dragMode = props.dragMode || 'pan';
    super(GlobeState, props);
  }

  setProps(props) {
    super.setProps(props);
    this.dragRotate = false;
    this.touchRotate = false;
  }

  get linearTransitionProps() {
    return ['longitude', 'latitude', 'zoom'];
  }

}

exports.default = GlobeController;
//# sourceMappingURL=globe-controller.js.map